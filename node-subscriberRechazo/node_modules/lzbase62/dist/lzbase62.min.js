/*!
 * lzbase62 v2.0.0 - LZ77(LZSS) based compression algorithm in base62 for JavaScript
 * Copyright (c) 2014-2020 polygon planet <polygon.planet.aqua@gmail.com>
 * https://github.com/polygonplanet/lzbase62
 * @license MIT
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).lzbase62=t()}}(function(){return function i(a,s,o){function l(n,t){if(!s[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(E)return E(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var _=s[n]={exports:{}};a[n][0].call(_.exports,function(t){return l(a[n][1][t]||t)},_,_.exports,i,a,s,o)}return s[n].exports}for(var E="function"==typeof require&&require,t=0;t<o.length;t++)l(o[t]);return l}({1:[function(t,n,e){n.exports={version:"2.0.0"}},{}],2:[function(t,n,e){var A=t("./config"),h=t("./util");function r(t){this._init(t)}r.prototype={_init:function(t){t=t||{},this._data=null,this._table=null,this._result=null,this._onDataCallback=t.onData,this._onEndCallback=t.onEnd},_createTable:function(){for(var t=h.createBuffer(8,A.TABLE_LENGTH),n=0;n<A.TABLE_LENGTH;n++)t[n]=A.BASE62TABLE.charCodeAt(n);return t},_onData:function(t,n){var e=h.bufferToString_fast(t,n);this._onDataCallback?this._onDataCallback(e):this._result+=e},_onEnd:function(){this._onEndCallback&&this._onEndCallback(),this._data=this._table=null},_search:function(){var t=2,n=this._data,e=this._offset,r=A.BUFFER_MAX;if(this._dataLen-e<r&&(r=this._dataLen-e),r<t)return!1;var _,i,a,s,o,l=e-A.WINDOW_BUFFER_MAX,E=n.substring(l,e+r),u=e+t-3-l;do{if(2===t){if(i=n.charAt(e)+n.charAt(e+1),!~(a=E.indexOf(i))||u<a)break}else 3===t?i+=n.charAt(e+2):i=n.substr(e,t);if(!~(s=A.STRING_LASTINDEXOF_BUG?n.substring(l,e+t-1).lastIndexOf(i):E.lastIndexOf(i,u)))break;_=l+(o=s);do{if(n.charCodeAt(e+t)!==n.charCodeAt(_+t))break}while(++t<r);if(a===s){t++;break}}while(++t<r);return 2!==t&&(this._index=A.WINDOW_BUFFER_MAX-o,this._length=t-1,!0)},compress:function(t){if(null==t||0===t.length)return"";var n,e=this._createTable(),r=h.createWindow(),_=h.createBuffer(8,A.COMPRESS_CHUNK_SIZE),i=0;this._result="",this._offset=r.length,this._data=r+t,this._dataLen=this._data.length,r=t=null;for(var a,s,o,l,E,u=-1,f=-1;this._offset<this._dataLen;)this._search()?(o=this._index<A.BUFFER_MAX?(s=this._index,0):(s=this._index%A.BUFFER_MAX,(this._index-s)/A.BUFFER_MAX),2===this._length?(_[i++]=e[o+A.COMPRESS_FIXED_START],_[i++]=e[s]):(_[i++]=e[o+A.COMPRESS_START],_[i++]=e[s],_[i++]=e[this._length]),this._offset+=this._length,~f&&(f=-1)):(a=this._data.charCodeAt(this._offset++))<A.LATIN_BUFFER_MAX?f===(u=a<A.UNICODE_CHAR_MAX?(s=a,o=0,A.LATIN_INDEX):(o=(a-(s=a%A.UNICODE_CHAR_MAX))/A.UNICODE_CHAR_MAX)+A.LATIN_INDEX)?_[i++]=e[s]:(_[i++]=e[u-A.LATIN_INDEX_START],_[i++]=e[s],f=u):(u=a<A.UNICODE_BUFFER_MAX?(s=a,o=0,A.UNICODE_INDEX):(o=(a-(s=a%A.UNICODE_BUFFER_MAX))/A.UNICODE_BUFFER_MAX)+A.UNICODE_INDEX,E=s<A.UNICODE_CHAR_MAX?(l=s,0):(s-(l=s%A.UNICODE_CHAR_MAX))/A.UNICODE_CHAR_MAX,f===u?(_[i++]=e[l],_[i++]=e[E]):(_[i++]=e[A.CHAR_START],_[i++]=e[u-A.TABLE_LENGTH],_[i++]=e[l],_[i++]=e[E],f=u)),i>=A.COMPRESS_CHUNK_MAX&&(this._onData(_,i),i=0);return 0<i&&this._onData(_,i),this._onEnd(),n=this._result,(this._result=null)===n?"":n}},n.exports=r},{"./config":3,"./util":6}],3:[function(t,n,e){var r=e.HAS_TYPED="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array,_=!1,i=!1;try{"a"===String.fromCharCode.apply(null,[97])&&(_=!0)}catch(t){}if(r)try{"a"===String.fromCharCode.apply(null,new Uint8Array([97]))&&(i=!0)}catch(t){}e.CAN_CHARCODE_APPLY=_,e.CAN_CHARCODE_APPLY_TYPED=i;var a=e.APPLY_BUFFER_SIZE=65533;e.APPLY_BUFFER_SIZE_OK=null;var s=!1;-1!=="abc\u307b\u3052".lastIndexOf("\u307b\u3052",1)&&(s=!0),e.STRING_LASTINDEXOF_BUG=s;var o=e.BASE62TABLE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=e.TABLE_LENGTH=o.length,E=Math.max(l,62)-Math.min(l,62);e.BUFFER_MAX=l-1;var u=e.WINDOW_MAX=1024;e.WINDOW_BUFFER_MAX=304;var f=e.COMPRESS_CHUNK_SIZE=a;e.COMPRESS_CHUNK_MAX=f-l;var A=e.DECOMPRESS_CHUNK_SIZE=a;e.DECOMPRESS_CHUNK_MAX=A+2*u;e.LATIN_BUFFER_MAX=132;var h=e.UNICODE_CHAR_MAX=40;e.UNICODE_BUFFER_MAX=h*(1+h),e.LATIN_INDEX=l+1,e.LATIN_INDEX_START=20+E,e.UNICODE_INDEX=l+5,e.DECODE_MAX=l-E-19;var c=e.LATIN_DECODE_MAX=7+h,C=e.CHAR_START=1+c,S=e.COMPRESS_START=1+C,D=e.COMPRESS_FIXED_START=5+S;e.COMPRESS_INDEX=5+D},{}],4:[function(t,n,e){var C=t("./config"),S=t("./util");function r(t){this._init(t)}r.prototype={_init:function(t){t=t||{},this._result=null,this._onDataCallback=t.onData,this._onEndCallback=t.onEnd},_createTable:function(){for(var t={},n=0;n<C.TABLE_LENGTH;n++)t[C.BASE62TABLE.charAt(n)]=n;return t},_onData:function(t){var n;if(this._onDataCallback){if(t)n=this._result,this._result=[];else{var e=C.DECOMPRESS_CHUNK_SIZE-C.WINDOW_MAX;n=this._result.slice(C.WINDOW_MAX,C.WINDOW_MAX+e),this._result=this._result.slice(0,C.WINDOW_MAX).concat(this._result.slice(C.WINDOW_MAX+e))}0<n.length&&this._onDataCallback(S.bufferToString_fast(n))}},_onEnd:function(){this._onEndCallback&&this._onEndCallback()},decompress:function(t){if(null==t||0===t.length)return"";this._result=S.stringToArray(S.createWindow());for(var n,e,r,_,i,a,s,o,l,E,u=this._createTable(),f=!1,A=null,h=t.length,c=0;c<h;c++)if(void 0!==(r=u[t.charAt(c)])){if(r<C.DECODE_MAX)i=f?u[t.charAt(++c)]*C.UNICODE_CHAR_MAX+r+C.UNICODE_BUFFER_MAX*A:A*C.UNICODE_CHAR_MAX+r,this._result[this._result.length]=i;else if(r<C.LATIN_DECODE_MAX)A=r-C.DECODE_MAX,f=!1;else if(r===C.CHAR_START)A=(_=u[t.charAt(++c)])-5,f=!0;else if(r<C.COMPRESS_INDEX){if(_=u[t.charAt(++c)],s=r<C.COMPRESS_FIXED_START?(a=(r-C.COMPRESS_START)*C.BUFFER_MAX+_,u[t.charAt(++c)]):(a=(r-C.COMPRESS_FIXED_START)*C.BUFFER_MAX+_,2),(o=this._result.slice(-a)).length>s&&(o.length=s),l=o.length,0<o.length)for(E=0;E<s;)for(e=0;e<l&&(this._result[this._result.length]=o[e],!(++E>=s));e++);A=null}this._result.length>=C.DECOMPRESS_CHUNK_MAX&&this._onData()}return this._result=this._result.slice(C.WINDOW_MAX),this._onData(!0),this._onEnd(),n=S.bufferToString_fast(this._result),this._result=null,n}},n.exports=r},{"./config":3,"./util":6}],5:[function(t,n,e){var r=t("./compressor"),_=t("./decompressor");e.version=t("../package.json").version,e.compress=function(t,n){return new r(n).compress(t)},e.decompress=function(t,n){return new _(n).decompress(t)}},{"../package.json":1,"./compressor":2,"./decompressor":4}],6:[function(t,n,e){var i=t("./config"),a=String.fromCharCode;e.createBuffer=function(t,n){if(!i.HAS_TYPED)return new Array(n);switch(t){case 8:return new Uint8Array(n);case 16:return new Uint16Array(n)}};var _=e.truncateBuffer=function(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)};e.bufferToString_fast=function(t,n){if(null==n?n=t.length:t=_(t,n),i.CAN_CHARCODE_APPLY&&i.CAN_CHARCODE_APPLY_TYPED){var e=t.length;if(e<i.APPLY_BUFFER_SIZE&&i.APPLY_BUFFER_SIZE_OK)return a.apply(null,t);if(null===i.APPLY_BUFFER_SIZE_OK)try{var r=a.apply(null,t);return e>i.APPLY_BUFFER_SIZE&&(i.APPLY_BUFFER_SIZE_OK=!0),r}catch(t){i.APPLY_BUFFER_SIZE_OK=!1}}return s(t)};var s=e.bufferToString_chunked=function(t){for(var n,e="",r=t.length,_=0;_<r;){if(n=t.subarray?t.subarray(_,_+i.APPLY_BUFFER_SIZE):t.slice(_,_+i.APPLY_BUFFER_SIZE),_+=i.APPLY_BUFFER_SIZE,!i.APPLY_BUFFER_SIZE_OK){if(null===i.APPLY_BUFFER_SIZE_OK)try{e+=a.apply(null,n),n.length>i.APPLY_BUFFER_SIZE&&(i.APPLY_BUFFER_SIZE_OK=!0);continue}catch(t){i.APPLY_BUFFER_SIZE_OK=!1}return o(t)}e+=a.apply(null,n)}return e},o=e.bufferToString_slow=function(t){for(var n="",e=t.length,r=0;r<e;r++)n+=a(t[r]);return n};e.stringToArray=function(t){for(var n=[],e=t&&t.length,r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},e.createWindow=function(){for(var t=8,n="        ";!(1024&t);)n+=n,t<<=1;return n}},{"./config":3}]},{},[5])(5)});